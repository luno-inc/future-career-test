// 外生イベントのソース情報
// 本データは以下の学術機関・研究機関のレポートを参考に作成しています：
// - IPCC (Intergovernmental Panel on Climate Change) - 気候変動に関する政府間パネル
// - World Economic Forum (WEF) - 世界経済フォーラム「Global Risks Report」シリーズ
// - McKinsey Global Institute - マッキンゼー・グローバル・インスティテュート各種レポート
// - OECD (Organisation for Economic Co-operation and Development) - 経済協力開発機構「Future of Work」等
// - IEA (International Energy Agency) - 国際エネルギー機関「World Energy Outlook」
// - UN Department of Economic and Social Affairs - 国連経済社会局「World Population Prospects」
// - IMF (International Monetary Fund) - 国際通貨基金「World Economic Outlook」
// - WHO (World Health Organization) - 世界保健機関「Global Health Estimates」
// - UNESCO - 国連教育科学文化機関「Futures of Education」
// - World Bank - 世界銀行各種予測レポート
// - 日本政府統計（総務省、厚生労働省、環境省等の長期推計）
// - Nature, Science等の学術誌に掲載された予測研究

export const EXTERNAL_EVENTS = {
  "気候・環境": {
    short: [
      "2030年までに世界平均気温が産業革命前比1.5℃上昇し、日本では年間猛暑日が現在の2倍（40日以上）に増加。屋外作業の制約が強まり、建設・農業・物流業界で労働環境の大幅な見直しが必要となる",
      "2035年までに東京・大阪など主要都市で豪雨による浸水被害が年3回以上発生。不動産価値の再評価が進み、高台・内陸への移住需要が急増。都市計画の専門家やリスク管理人材の需要が拡大",
      "2030年代に日本の主要保険会社が沿岸部・河川近くの物件の火災保険料を平均30%引き上げ。不動産取引時の気候リスク評価が義務化され、新たな評価資格・職種が誕生"
    ],
    medium: [
      "2045年に日本の夏季平均気温が3℃上昇し、熱中症による年間死者数が1万人を超える。全企業で真夏の屋外作業が原則禁止となり、夜間・早朝シフトが標準化。労働時間管理の専門家需要が急増",
      "2050年までに日本の沿岸都市（横浜、神戸、福岡など）で高潮被害が年5回以上発生し、10兆円規模の防災インフラ投資が実施。土木・防災エンジニアリングが最優先産業に",
      "2048年に日本近海の漁獲量が現在の60%に減少し、水産業が大打撃。培養魚肉・陸上養殖技術への大規模投資が始まり、バイオテック×食料の新産業が勃興"
    ],
    long: [
      "2100年時点で世界平均気温が産業革命前比三℃前後（高排出シナリオ）か一・五〜二℃程度（強力対策シナリオ）かで二本立てのイベント",
      "二一〇〇年までに一部の低地島嶼国で居住継続が困難になり、計画的移住が現実の政策テーマになるシナリオ"
    ]
  },
  "エネルギー・資源": {
    short: [
      "2030年に日本の再生可能エネルギー比率が50%に到達（現在22%）。太陽光パネル設置技師・蓄電システムエンジニアの求人が年10万件発生し、電力会社が大規模な人材シフトを実施",
      "2033年に日本政府が石炭火力発電所の全廃を決定。電力・エネルギー業界で5万人規模のリストラが発生する一方、再エネ関連で8万人の新規雇用が創出。転職支援プログラムが国策化",
      "2032年にEVバッテリー用リチウムの国際価格が3倍に高騰。日本企業がリチウム不要の全固体電池の量産化に成功し、次世代電池エンジニアの年収が平均1200万円に到達"
    ],
    medium: [
      "先進国では二〇四五年前後にネットゼロ達成を目指し、化石燃料関連の新規雇用がほぼゼロになるシナリオ",
      "水素インフラが産業用から家庭用・暖房・交通へと拡張し、新しい職種群（水素配管・保守など）が生まれるシナリオ",
      "水ストレス地域では海水淡水化と節水技術がインフラの中核となり、水価格が電気料金と同じくらいの家計負担要因になるシナリオ"
    ],
    long: [
      "世界全体でエネルギー関連排出が実質ゼロ近傍となるネットゼロ達成シナリオ（もしくは達成失敗シナリオとの対比）",
      "二一〇〇年までに主要都市が「エネルギー自給都市」（建物・太陽光・蓄電が標準）へ移行するシナリオ"
    ]
  },
  "人口・都市・移動": {
    short: [
      "2030年に日本の総人口が1億2000万人を割り込み、地方自治体の30%が消滅危機に。国は「選択と集中」政策で主要都市への移住を推進。地方創生コンサル・移住支援アドバイザーの需要が急増",
      "2033年に日本の65歳以上人口が35%を超え、介護職員が100万人不足。政府は外国人介護士の受入れを年10万人に拡大し、介護施設でのAI・ロボット導入が義務化。介護テック企業が急成長",
      "2032年に自動運転レベル4が全国の主要都市で解禁され、タクシー・バス運転手の40%が失職。一方で自動運転管制オペレーター・モビリティデータアナリストなど新職種が2万人規模で誕生"
    ],
    medium: [
      "二〇五〇年 世界人口約九・七十億人、そのうちアフリカが強いシェア拡大を見せるシナリオ",
      "二〇五〇年までに都市人口がさらに二五億人増え、その九割近くがアジアとアフリカに集中するシナリオ",
      "気候変動や紛争を背景とした「国内外の環境移民」が累積で数億人規模になるシナリオ"
    ],
    long: [
      "アフリカが世界人口の四割近くを占めるようになるシナリオ",
      "一部のメガシティが人口減少と老朽インフラ問題で「縮小都市」として再編されるシナリオ"
    ]
  },
  "経済・金融": {
    short: [
      "2030年に日本の潜在成長率が0.5%まで低下し、大企業の定期昇給制度が事実上崩壊。年功序列から成果主義への完全移行が進み、30代で年収1000万と400万の二極化が鮮明に",
      "2031年に日本政府が50兆円規模のグリーン投資を発表。太陽光・風力・蓄電池産業が5年間で15%成長し、再エネ関連企業への転職希望者が殺到。一方で従来型製造業は縮小",
      "2029年にAI関連株バブルが崩壊し、東京市場が30%暴落。IT業界で大量解雇が発生する一方、割安となった優良AI企業が再び注目を集め、2032年には市場が回復。投資リテラシーの重要性が再認識"
    ],
    medium: [
      "二〇五〇年ごろ インドがGDP規模で世界二位、中国の成長鈍化が続き多極化が進むシナリオ",
      "技術進歩は続くが格差拡大により「平均は豊かだが分布は二極化」という経済構造になるシナリオ",
      "AIと自動化によりホワイトカラーの一部職種が大きく縮小し、サービス・ケア・創造的職種が相対的に拡大するシナリオ"
    ],
    long: [
      "労働人口減少と生産性停滞で、OECDとG二〇全体の成長率が一パーセント台前半に張り付くシナリオ",
      "気候被害コストが累積し、対応の遅れた国では恒常的な低成長トラップに陥るシナリオ"
    ]
  },
  "技術・AI・デジタル": {
    short: [
      "2028年にGPT-5相当のAIが日本企業に広く普及し、事務職の40%（約300万人）がAIと協働する新しい働き方にシフト。データ分析・プロンプトエンジニアリングが必須スキルに。年収はAI活用度で±200万円の差",
      "2032年に日本の製造業でロボット導入率が80%に到達。工場の単純作業員が半減する一方、ロボットメンテナンス技師の求人が3倍に。職業訓練校にロボット工学科が新設される",
      "2034年に日本企業が量子コンピュータを活用した最適化サービスを実用化。物流・金融・創薬業界で従来の10倍速の業務処理が可能に。量子ソフトウェアエンジニアの年収が2000万円超に"
    ],
    medium: [
      "ほとんどのホワイトカラー職で「AIを使いこなせないと仕事にならない」状態になるシナリオ（AIリテラシーが読み書きレベルの基礎技術になる）",
      "生体情報と行動データを用いた「個別最適化医療」や「行動介入」が広く普及し、ヘルスケアとマーケティングの境界が曖昧になるシナリオ",
      "国や地域ごとにAIガバナンスのルールが分断され、越境データ流通に制約がかかるシナリオ"
    ],
    long: [
      "汎用AIに近いシステムがインフラや政策設計にも組み込まれ、「人間とAIの共同意思決定」が当たり前の社会になるシナリオ",
      "ブレインマシンインタフェースが実用化され、人とデジタル空間の境界がさらに薄まるシナリオ"
    ]
  },
  "健康・医療・食": {
    short: [
      "2030年に日本の年間熱中症死者数が5000人を超え、全企業で健康管理アプリの導入が義務化。産業医・健康データアナリストの需要が急増し、ヘルスケアIT市場が3兆円規模に",
      "2032年に新型感染症が再び世界的流行し、日本はリモート診療・オンライン処方箋を完全制度化。医療DX人材（遠隔医療システムエンジニア）の年収が平均900万円に到達",
      "2034年にmRNAがん治療薬が保険適用され、がん5年生存率が80%に上昇。製薬・バイオテック業界への投資が10兆円規模となり、バイオ研究職の求人が5倍に増加"
    ],
    medium: [
      "二〇五〇年までに世界平均寿命がさらに四〜五年延びるという予測を前提に、百年人生が標準になるシナリオ",
      "肥満と生活習慣病が世界の成人の半数以上に影響し、医療財政や労働生産性に大きな負担となるシナリオ",
      "食料システムの持続性を高めるため、培養肉・昆虫食・植物ベース食品が安価で普及するシナリオ"
    ],
    long: [
      "再生医療や老化制御技術への投資が進み、平均寿命と健康寿命が大きく伸びるシナリオ（投資をしない国との格差も拡大）",
      "水と食料の安定供給が地政学リスクと結びつき、食料保障政策が安全保障政策の中核になるシナリオ"
    ]
  },
  "社会構造・働き方": {
    short: [
      "2030年に日本企業の70%がフルリモート・週3出社のハイブリッド制を導入。東京23区の人口が5%減少し、長野・静岡などの地方都市への移住が加速。不動産価値の大幅な再編が発生",
      "2032年に副業・フリーランスの労働人口が全体の35%（1800万人）に到達。企業は正社員の終身雇用を縮小し、プロジェクトベースの雇用が主流に。個人の営業力・交渉力が年収を大きく左右",
      "2033年に20代の転職回数が平均4回に増加し、「一つの会社に長く勤める」価値観が崩壊。Z世代は給与より社会的意義・ワークライフバランスを最重視し、企業のパーパス経営が競争力の源泉に"
    ],
    medium: [
      "高齢社会で七十歳前後まで働くことが一般的になり、教育と仕事を繰り返すマルチステージ型人生になるシナリオ",
      "国民皆保険や年金などの社会保障制度が抜本的に再設計され、「ベーシックインカム」「負の所得税」などが検討されるシナリオ",
      "AIと自動化により、単純作業中心の職は減少し、人間に固有と言われる対人・ケア・創造・協働領域が大きくなるシナリオ"
    ],
    long: [
      "「仕事」そのものの定義が変化し、地域コミュニティ活動やケア・貢献活動が社会的評価やインセンティブを得るようになるシナリオ",
      "一部の国や都市では、AI・プラットフォームが個人のスキル・キャリアを常時マッチングし、労働市場の姿が大きく変わるシナリオ"
    ]
  },
  "政治・ガバナンス・安全保障": {
    short: [
      "2030年に米中対立が激化し、日本企業が中国市場からの部分撤退を決断。半導体・電子部品のサプライチェーンが東南アジアに大規模シフトし、ベトナム語・タイ語の需要が急増。海外展開コンサルの年収が1500万円に",
      "2031年にAI生成のフェイク動画・ニュースが選挙を混乱させ、日本政府がデジタル情報の検証機関を設立。ファクトチェッカー・デジタルフォレンジック専門家が新たな国家資格に",
      "2033年に日本の主要インフラ（電力・水道・金融）へのサイバー攻撃が年300件を超え、政府が全企業にセキュリティ責任者配置を義務化。サイバーセキュリティ人材の年収が平均1000万円に到達"
    ],
    medium: [
      "気候変動や水不足を背景にした地域紛争や国内不安が増えるシナリオ",
      "移民と難民の受入れを巡り、各国の国内政治が二分されるシナリオ",
      "AI監視と人権保護のバランスを巡って、国際条約レベルでの議論が行われるシナリオ"
    ],
    long: [
      "北極航路の商業利用が本格化し、関係国の安全保障上の駆け引きが増えるシナリオ",
      "水・資源・食料・気候移民を軸とした新しい安全保障概念が主流になるシナリオ"
    ]
  },
  "文化・価値観・教育": {
    short: [
      "2030年に日本のZ世代の60%がメタバース内で週10時間以上を過ごし、バーチャル空間での職業（3Dデザイナー・イベント企画）が正式な職業として認知。メタバースクリエイターの平均年収が800万円に",
      "2032年にSNSアルゴリズムによる分断が社会問題化し、政府が「デジタルシティズンシップ教育」を義務化。メディアリテラシー講師・デジタル倫理コンサルタントの需要が急増",
      "2031年に日本の全小中学校でAI学習システムが導入され、教師の役割が「知識伝達」から「メンタリング・対話」に完全シフト。EdTech企業が教員研修ビジネスで急成長し、教育IT市場が5兆円規模に"
    ],
    medium: [
      "UNESCOが提唱する「教育の新しい社会契約」に近い形で、共同制作・協働学習などが学校と社会教育の中心になるシナリオ",
      "成人になっても再教育・リスキリングを繰り返すことが前提となり、大学や専門機関が「人生を通じた学びのプラットフォーム」に変わるシナリオ",
      "宗教や家族観が多様化し、単身世帯・選択的子なし世帯が多数派に近づくシナリオ"
    ],
    long: [
      "デジタル空間上のアバターやバーチャル人格が、法的権利の一部を持つかどうか議論されるシナリオ",
      "国籍よりもコミュニティ（趣味・価値観・プロジェクト）への所属感が強い「ネットワークアイデンティティ」が一般化するシナリオ"
    ]
  },
  "宇宙・フロンティア・ハイリスク技術": {
    short: [
      "2032年にSpaceXが低軌道衛星を1万基展開し、日本企業が衛星データ解析ビジネスに本格参入。農業・防災・物流で衛星データが標準ツールとなり、宇宙データサイエンティストの求人が年5000件発生",
      "2034年にJAXAと民間企業が月面基地建設プロジェクトを開始し、日本人宇宙飛行士の募集枠が10倍に。宇宙工学・生命維持システムエンジニアが超高給職種（年収2000万円～）に",
      "2033年にゲノム編集作物が日本で解禁され、収量2倍の米・野菜が市場に。農業バイオテック企業への投資が殺到し、遺伝子工学×農業の新領域で年収1200万円の研究職が続々誕生"
    ],
    medium: [
      "月面基地や火星有人飛行が実現し、「宇宙で働く」キャリアが限定的ながら現実の選択肢になるシナリオ",
      "地球工学（太陽放射管理・二酸化炭素直接回収など）の実証実験が始まり、国際的な規制議論が起こるシナリオ",
      "高エネルギー物理学・生物工学・ナノ技術などで、局所的だが高インパクトなリスク（誤用・事故）が意識されるシナリオ"
    ],
    long: [
      "宇宙資源利用（小惑星採掘など）が地球経済に一定の影響を与えるシナリオ",
      "ハイリスク技術の暴走を防ぐための「グローバル技術評議会」のような超国家的ガバナンス機関が設立されるシナリオ"
    ]
  }
};

export const getRandomEvents = (categories, timeframe, count = 5) => {
  const selectedEvents = [];
  const timeKeys = {
    short: 'short',
    medium: 'medium',
    long: 'long'
  };
  
  categories.forEach(category => {
    if (EXTERNAL_EVENTS[category] && EXTERNAL_EVENTS[category][timeKeys[timeframe]]) {
      const events = EXTERNAL_EVENTS[category][timeKeys[timeframe]];
      const shuffled = [...events].sort(() => 0.5 - Math.random());
      selectedEvents.push(...shuffled.slice(0, Math.ceil(count / categories.length)));
    }
  });
  
  return selectedEvents.slice(0, count);
};